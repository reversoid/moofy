<div class="user-grid">
  <app-user-card
    *ngIf="loading && profiles().length === 0; else notLoading"
    view="horizontal"
  ></app-user-card>

  <ng-template #notLoading>
    <tui-island *ngIf="profiles().length === 0; else showProfiles" class="not-found-placeholder">
      <p>Пользователи не найдены</p></tui-island
    >

    <ng-template #showProfiles>
      <app-user-card *ngFor="let profile of profiles()" [user]="profile.user" view="horizontal">
        <app-follow-button
          [userId]="profile.user.id"
          [isSubscribed]="profile.additionalInfo.isSubscribed"
        ></app-follow-button>
      </app-user-card>

      <div *ngIf="loadMoreKey" waIntersectionObserver waIntersectionRootMargin="500px">
        <app-user-card
          (waIntersectionObservee)="handleLoadIntersection($event)"
          view="horizontal"
        ></app-user-card>
      </div>
    </ng-template>
  </ng-template>
</div>
